---
---

<section id='contact-form' class='section-contact-form bg-gray-50 py-12 lg:py-16'>
  <div class='container-default mx-auto max-w-7xl px-6'>
    <!-- Section Header -->
    <div class='text-center mb-10'>
      <h2 class='mb-4 font-InstrumentSans text-2xl lg:text-3xl font-bold text-[#1C2C3B]'>
        Get Your Finance Scenario Reviewed
      </h2>
      <p class='text-lg text-gray-600 font-InstrumentSans max-w-3xl mx-auto'>
        Complete this form for a detailed callback and finance options assessment
      </p>
    </div>
    
    <!-- Contact Form -->
    <div class='max-w-4xl mx-auto'>
      <form class='bg-white shadow-xl p-6 lg:p-10' id='contactForm'>
        
        <!-- Personal Details Section -->
        <div class='mb-6'>
          <h3 class='text-lg font-bold text-[#1C2C3B] mb-4 font-InstrumentSans border-b-2 border-gray-200 pb-2'>
            Personal Details
          </h3>
          
          <div class='grid grid-cols-1 lg:grid-cols-2 gap-6'>
            <div>
              <label for='firstName' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
                First Name <span class='text-red-500'>*</span>
              </label>
              <input
                type='text'
                id='firstName'
                name='firstName'
                required
                class='w-full px-3 py-2 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
              >
            </div>
            
            <div>
              <label for='lastName' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
                Last Name <span class='text-red-500'>*</span>
              </label>
              <input
                type='text'
                id='lastName'
                name='lastName'
                required
                class='w-full px-3 py-2 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
              >
            </div>
            
            <div>
              <label for='mobileNumber' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
                Mobile Number <span class='text-red-500'>*</span>
              </label>
              <input
                type='tel'
                id='mobileNumber'
                name='mobileNumber'
                required
                class='w-full px-3 py-2 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
                placeholder='0400 000 000'
              >
            </div>
            
            <div>
              <label for='email' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
                Email Address <span class='text-red-500'>*</span>
              </label>
              <input
                type='email'
                id='email'
                name='email'
                required
                class='w-full px-3 py-2 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
              >
            </div>
          </div>
        </div>
        
        <!-- Business Information Section -->
        <div class='mb-6'>
          <h3 class='text-lg font-bold text-[#1C2C3B] mb-4 font-InstrumentSans border-b-2 border-gray-200 pb-2'>
            Business Information
          </h3>
          
          <div>
            <label for='businessType' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
              Business Type/Industry
            </label>
            <select
              id='businessType'
              name='businessType'
              class='w-full px-4 py-3 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
            >
              <option value=''>Select your business type</option>
              <option value='Electrical'>Electrical</option>
              <option value='Plumbing'>Plumbing</option>
              <option value='Construction/Building'>Construction/Building</option>
              <option value='HVAC'>HVAC</option>
              <option value='Carpentry/Joinery'>Carpentry/Joinery</option>
              <option value='Painting/Decorating'>Painting/Decorating</option>
              <option value='Landscaping'>Landscaping</option>
              <option value='Roofing'>Roofing</option>
              <option value='Tiling'>Tiling</option>
              <option value='Automotive'>Automotive</option>
              <option value='Manufacturing'>Manufacturing</option>
              <option value='Transport/Logistics'>Transport/Logistics</option>
              <option value='Other Trades'>Other Trades</option>
              <option value='Other Business'>Other Business</option>
            </select>
          </div>
        </div>
        
        <!-- Finance Requirements Section -->
        <div class='mb-6'>
          <h3 class='text-lg font-bold text-[#1C2C3B] mb-4 font-InstrumentSans border-b-2 border-gray-200 pb-2'>
            Finance Requirements
          </h3>
          
          <div class='mb-6'>
            <label class='block text-sm font-semibold text-gray-700 mb-4 font-InstrumentSans'>
              Finance Type Needed (select all that apply):
            </label>
            
            <div class='grid grid-cols-1 lg:grid-cols-2 gap-3'>
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-equipment' name='financeType' value='Equipment Finance' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Equipment Finance (machinery, vehicles, tools)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-working' name='financeType' value='Working Capital' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Working Capital (cash flow, business growth)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-property' name='financeType' value='Commercial Property' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Commercial Property (purchase, refinance, development)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-vehicle' name='financeType' value='Vehicle Finance' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Vehicle Finance (commercial vehicles, fleet funding)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-trade' name='financeType' value='Trade & Invoice Finance' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Trade & Invoice Finance</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-acquisition' name='financeType' value='Business Acquisition' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Business Acquisition (buying existing business)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' id='financeType-home' name='financeType' value='Home/Investment Loans' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Home/Investment Loans (residential, SMSF lending)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='checkbox' name='financeType' value='Other' class='mr-3 w-4 h-4 text-[#f97316]' id='otherFinanceType'>
                <span class='text-gray-700 font-InstrumentSans'>Other:</span>
                <input type='text' name='financeTypeOther' class='ml-2 px-2 py-1 border border-gray-300 text-sm flex-1' placeholder='Please specify'>
              </label>
            </div>
          </div>
          
          <div class='mb-6'>
            <label for='financeAmount' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
              Finance Amount Required
            </label>
            <p class='text-sm text-gray-600 mb-3 font-InstrumentSans'>(Approximate amount - we can discuss options)</p>
            <select
              id='financeAmount'
              name='financeAmount'
              class='w-full px-4 py-3 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
            >
              <option value=''>Select amount range</option>
              <option value='Under $50,000'>Under $50,000</option>
              <option value='$50,000 - $100,000'>$50,000 - $100,000</option>
              <option value='$100,000 - $250,000'>$100,000 - $250,000</option>
              <option value='$250,000 - $500,000'>$250,000 - $500,000</option>
              <option value='$500,000 - $1,000,000'>$500,000 - $1,000,000</option>
              <option value='Over $1,000,000'>Over $1,000,000</option>
            </select>
          </div>
          
          <div class='mb-6'>
            <label class='block text-sm font-semibold text-gray-700 mb-4 font-InstrumentSans'>
              Timeframe for Funding:
            </label>
            
            <div class='space-y-3'>
              <label class='flex items-center'>
                <input type='radio' id='timeframe-asap' name='timeframe' value='ASAP (within 1 week)' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>ASAP (within 1 week)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='radio' id='timeframe-2-4weeks' name='timeframe' value='2-4 weeks' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>2-4 weeks - Planning ahead</span>
              </label>
              
              <label class='flex items-center'>
                <input type='radio' id='timeframe-1-3months' name='timeframe' value='1-3 months' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>1-3 months - Future planning</span>
              </label>
              
              <label class='flex items-center'>
                <input type='radio' id='timeframe-3plus' name='timeframe' value='3+ months' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>3+ months - Early stage planning</span>
              </label>
            </div>
          </div>
          
          <div class='mb-6'>
            <label for='requirements' class='block text-sm font-semibold text-gray-700 mb-2 font-InstrumentSans'>
              Brief Description of Requirements
            </label>
            <textarea
              id='requirements'
              name='requirements'
              rows='4'
              class='w-full px-4 py-3 border-2 border-gray-300 focus:border-[#f97316] focus:outline-none transition-colors duration-300 font-InstrumentSans'
              placeholder='Please provide any additional details about your finance needs, current situation, or specific requirements. The more information you provide, the better we can prepare for our conversation.'
            ></textarea>
          </div>
          
          <div class='mb-6'>
            <label class='block text-sm font-semibold text-gray-700 mb-4 font-InstrumentSans'>
              Preferred Contact Method:
            </label>
            
            <div class='space-y-3'>
              <label class='flex items-center'>
                <input type='radio' id='contactMethod-phone-business' name='contactMethod' value='Phone (during business hours)' class='mr-3 w-4 h-4 text-[#f97316]' checked>
                <span class='text-gray-700 font-InstrumentSans'>Phone (during business hours)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='radio' id='contactMethod-phone-after' name='contactMethod' value='Phone (after hours/evenings)' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Phone (after hours/evenings)</span>
              </label>
              
              <label class='flex items-center'>
                <input type='radio' id='contactMethod-email-first' name='contactMethod' value='Email first, then phone' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>Email first, then phone</span>
              </label>
              
              <label class='flex items-center'>
                <input type='radio' id='contactMethod-no-preference' name='contactMethod' value='No preference' class='mr-3 w-4 h-4 text-[#f97316]'>
                <span class='text-gray-700 font-InstrumentSans'>No preference - contact me however is most convenient</span>
              </label>
            </div>
          </div>
        </div>
        
        <!-- Consent & Privacy -->
        <div class='mb-6'>
          <label class='flex items-start'>
            <input type='checkbox' id='consent-checkbox' name='consent' required class='mr-3 w-4 h-4 text-[#f97316] mt-1'>
            <span class='text-gray-700 font-InstrumentSans'>
              I agree to be contacted by Edgeview Finance regarding this enquiry. Your information is used solely for arranging finance and is never shared without your consent. <span class='text-red-500'>*</span>
            </span>
          </label>
        </div>
        
        <!-- Submit Button -->
        <div class='text-center'>
          <button
            type='submit'
            class='bg-[#f97316] text-white px-12 py-4 font-bold text-lg transition-all duration-300 hover:bg-[#ea580c] hover:shadow-lg font-InstrumentSans'
          >
            Submit Scenario
          </button>
        </div>
        
      </form>
      
      <!-- Success Message (Hidden by default) -->
      <div id='successMessage' class='hidden bg-white shadow-xl p-8 lg:p-12 mt-8'>
        <div class='text-center'>
          <div class='mb-6'>
            <svg class='w-16 h-16 text-green-500 mx-auto' fill='none' stroke='currentColor' viewBox='0 0 24 24'>
              <path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z'/>
            </svg>
          </div>
          
          <h3 class='text-2xl font-bold text-[#1C2C3B] mb-6 font-InstrumentSans'>
            Thank you for your enquiry!
          </h3>
          
          <p class='text-lg text-gray-600 mb-8 font-InstrumentSans'>
            Your application has been received and Dan Peters will contact you within our guaranteed timeframe.
          </p>
          
          <div class='mb-6'>
            <h4 class='text-lg font-bold text-[#1C2C3B] mb-4 font-InstrumentSans'>What happens next:</h4>
            <ol class='text-left max-w-md mx-auto space-y-2 text-gray-600 font-InstrumentSans'>
              <li>1. We'll review your requirements</li>
              <li>2. Prepare preliminary finance options</li>
              <li>3. Contact you for detailed discussion</li>
              <li>4. Provide written assessment and next steps</li>
            </ol>
          </div>
          
          <div class='bg-gray-50 p-6'>
            <p class='text-lg font-semibold text-[#1C2C3B] mb-2 font-InstrumentSans'>
              Need immediate assistance?
            </p>
            <a href='tel:1300280895' class='text-[#f97316] font-bold text-lg hover:text-[#ea580c] font-InstrumentSans'>
              Call: 1300 280 895
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('contactForm');
  const successMessage = document.getElementById('successMessage');
  const submitButton = form?.querySelector('button[type="submit"]');
  
  if (form) {
    form.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Simple form validation
      const requiredFields = form.querySelectorAll('[required]');
      let isValid = true;
      
      requiredFields.forEach(field => {
        if (!field.value.trim()) {
          field.style.borderColor = '#ef4444';
          isValid = false;
        } else {
          field.style.borderColor = '#d1d5db';
        }
      });
      
      if (isValid) {
        // Disable submit button and show loading state
        if (submitButton) {
          submitButton.disabled = true;
          submitButton.textContent = 'Submitting...';
        }
        
        // Collect form data
        const formData = new FormData(form);
        
        // Process finance type checkboxes
        const financeTypes = {};
        const financeTypeCheckboxes = form.querySelectorAll('input[name="financeType"]:checked');
        financeTypeCheckboxes.forEach(checkbox => {
          financeTypes[checkbox.value] = true;
        });
        
        // Build submission object
        const submissionData = {
          firstName: formData.get('firstName'),
          lastName: formData.get('lastName'),
          mobileNumber: formData.get('mobileNumber'),
          email: formData.get('email'),
          businessType: formData.get('businessType'),
          financeTypes: financeTypes,
          financeTypeOther: formData.get('financeTypeOther'),
          financeAmount: formData.get('financeAmount'),
          timeframe: formData.get('timeframe'),
          requirements: formData.get('requirements'),
          contactMethod: formData.get('contactMethod')
        };
        
        try {
          // Submit to API endpoint
          const response = await fetch('/api/submit-contact', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(submissionData)
          });
          
          const result = await response.json();
          
          if (result.success) {
            // Hide form and show success message
            form.style.display = 'none';
            successMessage.classList.remove('hidden');
            
            // Scroll to success message
            successMessage.scrollIntoView({ behavior: 'smooth' });
            
            // Reset form for next submission
            form.reset();
            
            console.log('Form submitted successfully. ID:', result.submissionId);
          } else {
            // Show error message
            alert('There was an error submitting your form. Please try again or call us directly at 1300 280 895.');
            console.error('Submission error:', result.error);
            
            // Re-enable submit button
            if (submitButton) {
              submitButton.disabled = false;
              submitButton.textContent = 'Submit Scenario';
            }
          }
        } catch (error) {
          console.error('Network error:', error);
          alert('There was a network error. Please check your connection and try again.');
          
          // Re-enable submit button
          if (submitButton) {
            submitButton.disabled = false;
            submitButton.textContent = 'Submit Scenario';
          }
        }
      }
    });
  }
});
</script>