---
import { Image } from "astro:assets";

interface Props {
  name?: string;
  title?: string;
  bio?: string;
  image?: string;
  showCTA?: boolean;
}

const {
  name = "Dan Peters",
  title = "Finance Specialist",
  bio = "Dan Peters is the founder and director of Edgeview Finance, bringing over 20 years of experience in banking and broking to Queensland businesses. After beginning his career as a business banker with one of Australia's Big 4 banks, Dan saw firsthand how traditional lending often failed good businesses. This inspired him to establish Edgeview Finance, providing access to 40+ specialist lenders and transforming finance from a transactional necessity into a strategic advantage.\n\nDan has since worked with hundreds of Queensland businesses, particularly in the trades and commercial sectors, helping them unlock growth opportunities through smart equipment finance and strategic property investment. His unique combination of banking insider knowledge and broker independence ensures clients get approved faster while securing better terms.",
  image = "/assets/img/dan-peters-headshot-new.jpg",
  showCTA = true
} = Astro.props;
---

<section class="author-bio bg-[#F8F9FA] border border-[#E5E7EB] p-8 my-8">
  <div class="flex flex-col md:flex-row gap-6 items-start">
    <!-- Author Photo -->
    <div class="flex-shrink-0 mx-auto md:mx-0">
      <Image
        src={image}
        alt={`${name} - ${title}`}
        width={100}
        height={100}
        class="author-photo w-20 h-20 object-cover"
      />
    </div>

    <!-- Author Content -->
    <div class="author-content flex-1 text-center md:text-left">
      <div class="mb-4">
        <h3 class="author-name text-xl font-bold text-[#1C2C3B] mb-1">
          {name}
        </h3>
        <p class="author-title text-base font-semibold text-[#f97316] mb-3">
          {title}
        </p>
        <p class="text-xs font-medium text-[#6B7280] mb-3">
          Australian Credit License 459287
        </p>
      </div>

      <div class="author-bio-text text-sm leading-relaxed text-[#374151] mb-6">
        {bio.split('\n\n').map((paragraph: string) => (
          <p class="mb-4 last:mb-0">{paragraph}</p>
        ))}
      </div>

      {showCTA && (
        <div class="author-cta flex flex-col sm:flex-row gap-3 justify-center md:justify-start">
          <a
            href="/contact"
            class="btn-primary bg-[#f97316] text-white px-6 py-3 font-semibold text-sm hover:bg-[#ea580c] transition-colors duration-300 inline-block text-center"
          >
            Book Discovery Call
          </a>
          <a
            href="/contact"
            class="btn-secondary bg-transparent text-[#f97316] px-6 py-3 font-semibold text-sm border-2 border-[#f97316] hover:bg-[#f97316] hover:text-white transition-all duration-300 inline-block text-center"
          >
            Get Started
          </a>
        </div>
      )}
    </div>
  </div>
</section>

<style>
  .author-photo {
    /* Sharp corners - no border-radius */
  }

  .author-bio {
    /* Sharp corners - no border-radius */
  }

  .btn-primary,
  .btn-secondary {
    /* Sharp corners - no border-radius */
  }

  @media (max-width: 768px) {
    .author-cta {
      @apply flex-col;
    }
    
    .btn-primary,
    .btn-secondary {
      @apply w-full justify-center;
    }
  }
</style>