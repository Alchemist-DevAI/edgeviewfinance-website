{"version":3,"file":"sdk.js","sources":["../../../src/client/sdk.ts"],"sourcesContent":["import type { BrowserOptions } from '@sentry/browser';\nimport { getDefaultIntegrations as getBrowserDefaultIntegrations, init as initBrowserSdk } from '@sentry/browser';\nimport type { Client, Integration } from '@sentry/core';\nimport { applySdkMetadata } from '@sentry/core';\nimport { browserTracingIntegration } from './browserTracingIntegration';\n\n// Tree-shakable guard to remove all code related to tracing\ndeclare const __SENTRY_TRACING__: boolean;\n\n/**\n * Initialize the client side of the Sentry Astro SDK.\n *\n * @param options Configuration options for the SDK.\n */\nexport function init(options: BrowserOptions): Client | undefined {\n  const opts = {\n    defaultIntegrations: getDefaultIntegrations(options),\n    ...options,\n  };\n\n  applySdkMetadata(opts, 'astro', ['astro', 'browser']);\n\n  return initBrowserSdk(opts);\n}\n\nfunction getDefaultIntegrations(options: BrowserOptions): Integration[] {\n  // This evaluates to true unless __SENTRY_TRACING__ is text-replaced with \"false\",\n  // in which case everything inside will get tree-shaken away\n  if (typeof __SENTRY_TRACING__ === 'undefined' || __SENTRY_TRACING__) {\n    return [...getBrowserDefaultIntegrations(options), browserTracingIntegration()];\n  } else {\n    return getBrowserDefaultIntegrations(options);\n  }\n}\n"],"names":["initBrowserSdk","getBrowserDefaultIntegrations"],"mappings":";;;;AAMA;;AAGA;AACA;AACA;AACA;AACA;AACO,SAAS,IAAI,CAAC,OAAO,EAAsC;AAClE,EAAE,MAAM,OAAO;AACf,IAAI,mBAAmB,EAAE,sBAAsB,CAAC,OAAO,CAAC;AACxD,IAAI,GAAG,OAAO;AACd,GAAG;;AAEH,EAAE,gBAAgB,CAAC,IAAI,EAAE,OAAO,EAAE,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;;AAEvD,EAAE,OAAOA,MAAc,CAAC,IAAI,CAAC;AAC7B;;AAEA,SAAS,sBAAsB,CAAC,OAAO,EAAiC;AACxE;AACA;AACA,EAAE,IAAI,OAAO,kBAAA,KAAuB,WAAA,IAAe,kBAAkB,EAAE;AACvE,IAAI,OAAO,CAAC,GAAGC,wBAA6B,CAAC,OAAO,CAAC,EAAE,yBAAyB,EAAE,CAAC;AACnF,SAAS;AACT,IAAI,OAAOA,wBAA6B,CAAC,OAAO,CAAC;AACjD;AACA;;;;"}